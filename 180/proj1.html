<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 1: Colorizing the Prokudin-Gorskii Collection | CS180</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #374151;
            background-color: #f9fafb;
        }
        
        .container {
            max-width: 1024px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }
        
        /* Header */
        header {
            background: white;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .header-content {
            padding: 1.5rem 0;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .back-button {
            padding: 0.5rem;
            color: #6b7280;
            text-decoration: none;
            border-radius: 0.5rem;
            transition: background-color 0.2s;
        }
        
        .back-button:hover {
            background: #f3f4f6;
            color: #111827;
        }
        
        .header-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .project-icon {
            width: 2.5rem;
            height: 2.5rem;
            background: #dbeafe;
            color: #2563eb;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .project-title {
            font-size: 1.5rem;
            font-weight: 500;
            color: #111827;
            margin: 0;
        }
        
        .project-course {
            color: #6b7280;
            font-size: 0.875rem;
        }
        
        /* Main Content */
        main {
            padding: 2rem 0;
        }
        
        .content-card {
            background: white;
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .due-date {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .due-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: #fef2f2;
            color: #991b1b;
            border-radius: 0.5rem;
            font-weight: 500;
        }
        
        /* Sections */
        section {
            margin-bottom: 2.5rem;
        }
        
        section:last-child {
            margin-bottom: 0;
        }
        
        h2 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 1rem;
        }
        
        h3 {
            font-size: 1.125rem;
            font-weight: 500;
            color: #111827;
            margin-bottom: 0.5rem;
        }
        
        p {
            color: #374151;
            line-height: 1.625;
            margin-bottom: 1.5rem;
        }
        
        p:last-child {
            margin-bottom: 0;
        }
        
        em {
            font-style: italic;
        }
        
        strong {
            font-weight: 600;
        }
        
        a {
            color: #2563eb;
            text-decoration: underline;
        }
        
        a:hover {
            color: #1d4ed8;
        }
        
        /* Code and formulas */
        code {
            background: #f3f4f6;
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
        }
        
        .formula-box {
            background: #f3f4f6;
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            text-align: center;
        }
        
        /* Image Grid */
        .image-grid {
            display: grid;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .image-grid.cols-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }
        
        .image-grid.cols-3 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }
        
        .image-placeholder {
            background: #f3f4f6;
            border-radius: 0.5rem;
            padding: 1.5rem;
            text-align: center;
        }
        
        .image-box {
            background: #e5e7eb;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9ca3af;
            font-size: 3rem;
            aspect-ratio: 4/3;
        }
        
        .image-caption {
            font-weight: 500;
            color: #111827;
            margin-bottom: 0.25rem;
        }
        
        .image-description {
            font-size: 0.875rem;
            color: #6b7280;
            margin: 0;
        }
        
        .offset-display {
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            color: #374151;
            background: #f9fafb;
            padding: 0.5rem;
            border-radius: 0.25rem;
            margin-top: 0.5rem;
        }
        
        /* Results table */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: white;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .results-table th {
            background: #f9fafb;
            padding: 0.75rem;
            text-align: left;
            font-weight: 500;
            color: #374151;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .results-table td {
            padding: 0.75rem;
            border-bottom: 1px solid #f3f4f6;
        }
        
        .results-table tr:last-child td {
            border-bottom: none;
        }
        
        /* Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
        }
        
        .nav-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            color: #6b7280;
            text-decoration: none;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            transition: all 0.2s;
        }
        
        .nav-button:hover {
            color: #111827;
            border-color: #d1d5db;
        }
        
        .project-counter {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }
            
            .content-card {
                padding: 1.5rem;
            }
            
            .header-content {
                padding: 1rem 0;
                flex-wrap: wrap;
            }
            
            .project-title {
                font-size: 1.25rem;
            }
            
            .image-grid.cols-2,
            .image-grid.cols-3 {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="back-button">
                    <i class="fas fa-arrow-left"></i>
                </a>
                <div class="header-info">
                    <div class="project-icon">
                        <i class="fas fa-image"></i>
                    </div>
                    <div>
                        <h1 class="project-title">Project 1: Colorizing the Prokudin-Gorskii Collection</h1>
                        <p class="project-course">CS180 • Fall 2025</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <div class="content-card">
                <div class="due-date">
                    <div class="due-badge">
                        Due: September 12, 2025 at 11:59PM
                    </div>
                </div>

                <section>
                    <h2>Overview</h2>
                    <p>
                        Sergei Mikhailovich Prokudin-Gorskii (1863-1944) was a pioneer of early color photography. Convinced that color photography was the future, he traveled across the Russian Empire taking thousands of color photographs using a clever technique: recording three exposures of every scene onto a glass plate using red, green, and blue filters.
                    </p>
                    <p>
                        The goal of this assignment is to take the digitized glass plate images and automatically produce color images with minimal artifacts. Each digitized plate contains three exposures stacked vertically in <strong>BGR order</strong> (blue at top, green in middle, red at bottom). The challenge is to extract these three color channels, align them properly, and combine them into a single RGB color image.
                    </p>
                </section>

                <section>
                    <h2>Approach</h2>
                    <p>
                        My algorithm follows these key steps:
                    </p>
                    <ol style="margin-left: 1.5rem; margin-bottom: 1.5rem;">
                        <li style="margin-bottom: 0.5rem;"><strong>Split the image</strong> into three equal parts (B, G, R from top to bottom)</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Use the blue channel as reference</strong> and align green and red channels to it</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Search for best alignment</strong> using normalized cross-correlation (NCC) as the similarity metric</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Apply pyramid search</strong> for large images to handle big displacements efficiently</li>
                    </ol>
                    
                    <p>
                        For alignment scoring, I use <strong>Normalized Cross-Correlation (NCC)</strong>, which works better than L2 norm for images with different brightness values:
                    </p>
                    
                    <div class="formula-box">
                        NCC(I₁, I₂) = (I₁/||I₁||) · (I₂/||I₂||)
                    </div>
                    
                    <p>
                        To avoid edge artifacts during alignment, I crop a small border from each channel before computing the similarity metric, focusing the search on the interior content where channels should match well.
                    </p>
                </section>

                <section>
                    <h2>Single-Scale Alignment</h2>
                    <p>
                        For small <code>.jpg</code> images, I use exhaustive search over a window of possible displacements ([-15, 15] pixels in both x and y directions). Each displacement is scored using NCC, and the best scoring displacement is selected.
                    </p>
                    
                    <h3>Results on Small Images</h3>
                    <div class="image-grid cols-2">
                        <div class="image-placeholder">
                            <div class="image-box">
                                <i class="fas fa-image"></i>
                            </div>
                            <h3 class="image-caption">cathedral.jpg</h3>
                            <p class="image-description">Replace with your cathedral result</p>
                            <div class="offset-display">
                                G displacement: (dx, dy)<br>
                                R displacement: (dx, dy)
                            </div>
                        </div>
                        <div class="image-placeholder">
                            <div class="image-box">
                                <i class="fas fa-image"></i>
                            </div>
                            <h3 class="image-caption">monastery.jpg</h3>
                            <p class="image-description">Replace with your monastery result</p>
                            <div class="offset-display">
                                G displacement: (dx, dy)<br>
                                R displacement: (dx, dy)
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <h2>Pyramid Alignment</h2>
                    <p>
                        For large <code>.tif</code> images, exhaustive search becomes too slow. I implemented a coarse-to-fine pyramid approach:
                    </p>
                    <ol style="margin-left: 1.5rem; margin-bottom: 1.5rem;">
                        <li style="margin-bottom: 0.5rem;">Downsample the image into multiple levels (pyramid)</li>
                        <li style="margin-bottom: 0.5rem;">Start alignment at the coarsest (smallest) level</li>
                        <li style="margin-bottom: 0.5rem;">Refine the displacement estimate at each finer level</li>
                        <li style="margin-bottom: 0.5rem;">Use a smaller search window at each level for efficiency</li>
                    </ol>
                    <p>
                        This approach dramatically reduces computation time while maintaining alignment accuracy.
                    </p>
                    
                    <h3>Results on Large Images</h3>
                    <div class="image-grid cols-3">
                        <div class="image-placeholder">
                            <div class="image-box">
                                <i class="fas fa-image"></i>
                            </div>
                            <h3 class="image-caption">church.tif</h3>
                            <p class="image-description">Replace with your church result</p>
                            <div class="offset-display">
                                G: (dx, dy)<br>R: (dx, dy)
                            </div>
                        </div>
                        <div class="image-placeholder">
                            <div class="image-box">
                                <i class="fas fa-image"></i>
                            </div>
                            <h3 class="image-caption">emir.tif</h3>
                            <p class="image-description">Replace with your emir result</p>
                            <div class="offset-display">
                                G: (dx, dy)<br>R: (dx, dy)
                            </div>
                        </div>
                        <div class="image-placeholder">
                            <div class="image-box">
                                <i class="fas fa-image"></i>
                            </div>
                            <h3 class="image-caption">harvesters.tif</h3>
                            <p class="image-description">Replace with your harvesters result</p>
                            <div class="offset-display">
                                G: (dx, dy)<br>R: (dx, dy)
                            </div>
                        </div>
                        <div class="image-placeholder">
                            <div class="image-box">
                                <i class="fas fa-image"></i>
                            </div>
                            <h3 class="image-caption">icon.tif</h3>
                            <p class="image-description">Replace with your icon result</p>
                            <div class="offset-display">
                                G: (dx, dy)<br>R: (dx, dy)
                            </div>
                        </div>
                        <div class="image-placeholder">
                            <div class="image-box">
                                <i class="fas fa-image"></i>
                            </div>
                            <h3 class="image-caption">lady.tif</h3>
                            <p class="image-description">Replace with your lady result</p>
                            <div class="offset-display">
                                G: (dx, dy)<br>R: (dx, dy)
                            </div>
                        </div>
                        <div class="image-placeholder">
                            <div class="image-box">
                                <i class="fas fa-image"></i>
                            </div>
                            <h3 class="image-caption">melons.tif</h3>
                            <p class="image-description">Replace with your melons result</p>
                            <div class="offset-display">
                                G: (dx, dy)<br>R: (dx, dy)
                            </div>
                        </div>
                    </ol>

                    <h3>Summary of Displacement Results</h3>
                    <table class="results-table">
                        <thead>
                            <tr>
                                <th>Image</th>
                                <th>Green Displacement (x, y)</th>
                                <th>Red Displacement (x, y)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>cathedral.jpg</td>
                                <td><code>( , )</code></td>
                                <td><code>( , )</code></td>
                            </tr>
                            <tr>
                                <td>monastery.jpg</td>
                                <td><code>( , )</code></td>
                                <td><code>( , )</code></td>
                            </tr>
                            <tr>
                                <td>church.tif</td>
                                <td><code>( , )</code></td>
                                <td><code>( , )</code></td>
                            </tr>
                            <tr>
                                <td>emir.tif</td>
                                <td><code>( , )</code></td>
                                <td><code>( , )</code></td>
                            </tr>
                            <tr>
                                <td>harvesters.tif</td>
                                <td><code>( , )</code></td>
                                <td><code>( , )</code></td>
                            </tr>
                            <tr>
                                <td>icon.tif</td>
                                <td><code>( , )</code></td>
                                <td><code>( , )</code></td>
                            </tr>
                            <tr>
                                <td>lady.tif</td>
                                <td><code>( , )</code></td>
                                <td><code>( , )</code></td>
                            </tr>
                            <tr>
                                <td>melons.tif</td>
                                <td><code>( , )</code></td>
                                <td><code>( , )</code></td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section>
                    <h2>Additional Examples from Collection</h2>
                    <p>
                        I also tested my algorithm on additional images from the Prokudin-Gorskii collection:
                    </p>
                    
                    <div class="image-grid cols-3">
                        <div class="image-placeholder">
                            <div class="image-box">
                                <i class="fas fa-image"></i>
                            </div>
                            <h3 class="image-caption">Your Choice 1</h3>
                            <p class="image-description">Replace with your additional example</p>
                            <div class="offset-display">
                                G: (dx, dy)<br>R: (dx, dy)
                            </div>
                        </div>
                        <div class="image-placeholder">
                            <div class="image-box">
                                <i class="fas fa-image"></i>
                            </div>
                            <h3 class="image-caption">Your Choice 2</h3>
                            <p class="image-description">Replace with your additional example</p>
                            <div class="offset-display">
                                G: (dx, dy)<br>R: (dx, dy)
                            </div>
                        </div>
                        <div class="image-placeholder">
                            <div class="image-box">
                                <i class="fas fa-image"></i>
                            </div>
                            <h3 class="image-caption">Your Choice 3</h3>
                            <p class="image-description">Replace with your additional example</p>
                            <div class="offset-display">
                                G: (dx, dy)<br>R: (dx, dy)
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Bells and Whistles section (commented out for now) -->
                <!--
                <section>
                    <h2>Bells and Whistles</h2>
                    <p>
                        I implemented the following enhancements:
                    </p>
                    
                    <h3>Automatic Cropping</h3>
                    <p>Description of your cropping approach...</p>
                    
                    <h3>Better Features</h3>
                    <p>Description of using edge detection or gradients...</p>
                    
                    <h3>Automatic Contrasting</h3>
                    <p>Description of your contrast enhancement...</p>
                </section>
                -->

                <section>
                    <h2>Problems Encountered</h2>
                    <p>
                        The main challenge was handling the edge artifacts that occur during alignment. Initial attempts using the full image for similarity computation led to poor results because the borders dominated the scoring function. The solution was to crop a small margin before computing NCC, focusing the search on the interior content where channels should genuinely match.
                    </p>
                    <p>
                        Another issue was with the <strong>emir.tif</strong> image, where different color channels have very different brightness values. The normalized cross-correlation metric handled this better than simple L2 distance, as it's more robust to brightness differences between channels.
                    </p>
                    <!--
                    <p>
                        [Add any specific problems you encountered and how you solved them]
                    </p>
                    -->
                </section>

                <section>
                    <h2>Conclusion</h2>
                    <p>
                        This project successfully demonstrates automated colorization of historical glass plate photographs. The key insights were:
                    </p>
                    <ul style="margin-left: 1.5rem; margin-bottom: 1.5rem;">
                        <li style="margin-bottom: 0.5rem;">Using NCC as similarity metric handles brightness differences between color channels</li>
                        <li style="margin-bottom: 0.5rem;">Cropping borders during alignment prevents edge artifacts from dominating the search</li>
                        <li style="margin-bottom: 0.5rem;">Pyramid search makes large image alignment computationally feasible</li>
                        <li style="margin-bottom: 0.5rem;">Simple translation is sufficient for most historical plates</li>
                    </ul>
                    <p>
                        The resulting colorized images provide a fascinating glimpse into the Russian Empire of over a century ago, bringing Prokudin-Gorskii's vision to life through modern computational techniques.
                    </p>
                </section>
            </div>

            <!-- Navigation -->
            <div class="navigation">
                <a href="index.html" class="nav-button">
                    <i class="fas fa-arrow-left"></i>
                    Back to Portfolio
                </a>
                
                <div class="project-counter">
                    Project 1 of 5
                </div>
            </div>
        </div>
    </main>
</body>
</html>